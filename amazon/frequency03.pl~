#!/usr/bin/perl
use strict;
use warnings;

my $gtext1 = <<'EOF';
上下巻に分けるのはちょっと微妙なんじゃないかとか、電子書籍版が値段同じなのはどうかとか
世界同時発売にこだわったわりに、日本の電子書籍版はapple storeでは発売日にアプリで買えないとか
本の帯が少しイメージにそぐわないんじゃないかとか

などなど講談社さんに色々突っ込みたいことがある人は多いでしょうが
ここでは本の内容のみのレビューとします。

訳者は井口耕二さんで数々のアップル関連本を手がけており、アップル創業者のウォズニアックの
自伝も日本語版に訳しておられます。本来8～9ヶ月は最低かかる一般書の翻訳を今回は3ヶ月程度の
スケジュールでこなさなければならなかったそうで、翻訳の質をさすがに多少心配していたのですが
原著の雰囲気通りに仕上がっており、素晴らしい仕事だと思います。

上巻の内容は「ジョブズの生い立ちと子供時代～高校大学～アップル創業～アップル2誕生～マック誕生～
アップル追放～ネクストプロジェクトとピクサー」までです。アップルに復帰して、imacやiPhoneを
生み出すのは下巻からですね。

偉大な経営者ということはなんとなく知っていても、スティーブ・ジョブズの行ってきたことに
ついては、この本で初めて知ったという人も多いでしょう。「人間としてそれはどうよ」とか
「あからさまに犯罪だろ」みたいな行為もあるので、結構ショックを受ける人も多いかも
しれません。しかし、ジョブズが偉大な製品をいくつも生み出し、劇的に世界を変えたのは
事実です。この本を読んで彼の人格が好きになれない人もいるでしょうが、それはそれとして
ジョブズが素晴らしい製品を生み出してきたことを忘れないで欲しいとも思います。

ちなみにジョブズと共にアップルを創業したウォズニアックの自伝「アップルを創った怪物」を
同時に読むと、2人の言ってることや見方が食い違ってるので、どちらを信じるかとかどっちが本当
なんだとか、色々比較できて面白いのでかなりお奨めです。
EOF

my $btext1 = <<'EOF';
ジョブズは最高にクールで大好きだから、本書を読んだが
この著者の解説は最低で全く役に立たない。

　この著者は、すごく偉そうに上から目線で語るくせ、内容は誰でも知ってる
当たり前のことばかり。その当たり前な話を、すごく冗長でムダに長く405頁もある。　

　著者自身も冗長さは理解しているようで、各章末にまとめを付しているが、この
まとめさえ、当たり前のことばかりで、本書は全く役に立たない。

　例えば、８章まとめの１９１頁
「見た目が美しいスライドを作れるよう努力しろ」とあるが、ジョブスなら
こんな当たり前のことは絶対に言わないだろう。　

　読者が知りたいのは、当たり前の先にある。つまり
見た目が美しいスライドを作るには「ｘｘしてみる」だが、この著者には
当たり前の先にあることを何ひとつ言う力量が無い！

　プレゼンが上手くなりたい方、こんな駄本に、１８９０円払うより
無料ネット動画でジョブズのプレゼンをみて直に学んだ方が絶対に良い！
EOF

#print "good",$gtext1,"\n";
#print "bad",$btext1,"\n";

my @file = ("./goodlist.txt","./badlist.txt");

#my $file = "./goodlist.txt"; # 読み込みたいファイル名
my $allcnt = 0;

    my $gfile = $file[0];
    open( my $gfh, "<", $gfile )
        or die "Cannot open $gfile: $!";

    while( my $line = readline $gfh ){ 
        # readline関数で、一行読み込む。
        
        chomp $line; # chomp関数で、改行を取り除く
        
        # $line に対して何らかの処理。
        my $str = $gtext1;
        my $cnt = (() = $str =~ /$line/g);
        $allcnt += $cnt;

        print "$line:",$cnt,"\n";

        # ファイルがEOF( END OF FILE ) に到達するまで1行読みこみを繰り返す。
    }
    print "\$allcnt:$allcnt","\n";
close $gfh;

my $ballcnt = 0;
my $str = "";

print "\$allcnt:$allcnt\n";
print "================badlist\n";
    my $bfile = $file[1];
    open( my $bfh, "<", $bfile )
        or die "Cannot open $bfile: $!";

while( my $line = readline $bfh ){ 
        # readline関数で、一行読み込む。
        
        chomp $line; # chomp関数で、改行を取り除く
        
        # $line に対して何らかの処理。
        my $str = $btext1;
        my $cnt = (() = $str =~ /$line/g);
        $ballcnt += $cnt;

        print "$line:",$cnt,"\n";

        # ファイルがEOF( END OF FILE ) に到達するまで1行読みこみを繰り返す。
    }
    #print "\$ballcnt:$ballcnt","\n";

# 以下は簡潔な記述。<$fh> という記述は
# readline $fh を意味する。 
=pod
    while( my $line = <$fh> ){
        print $line;
}
=cut
    print "$ballcnt\n";

    close $bfh;
__END__
